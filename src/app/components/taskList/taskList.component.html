<div class="main-div">
  <h1>Task list</h1>
  <div *ngIf="!isLoggedIn"  class="alert alert-danger mb-4" role="alert">
    You must be logged, in order to interact with tasks.
  </div>
  <form #form="ngForm" (ngSubmit)="addTask()">
    <div>
      <input
        type="text"
        name="task"
        placeholder="Add a new task"
        [(ngModel)]="newTask"
        required
        [disabled]="!isLoggedIn"
      />
      <button [disabled]="!isLoggedIn">Add task</button>
    </div>
  </form>
  <ul>
    <li *ngFor="let task of tasks; let i = index" >
      <div class="d-flex align-items-center">
        <span [class.completed]="task.done" class="text-task">{{ task.title }}</span>
        <div class="div-icons">
          <i class="fas fa-ellipsis-v icon-details mr-2"></i>
          <i class="fas fa-trash icon-trash ml-2"></i>
        </div>
      </div>
      <input
        type="checkbox"
        [id]="'task-' + i"
        [(ngModel)]="task.done"
        [disabled]="!isLoggedIn"
      />
      <label [for]="'task-' + i"></label>
    </li>
  </ul>

  <p *ngIf="tasks.length === 0" class="fade all-complete">
    All tasks have been completed.
  </p>
</div>
